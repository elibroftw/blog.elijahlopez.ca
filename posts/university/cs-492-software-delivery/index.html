<!doctype html><html lang=en data-theme=dark><head><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><title>CS 492 Software Delivery - ELL Blog</title>
<meta name=description content="Summary Want to deliver software faster with less big changes Continuous Integration: Find issues in patches continuously (after commits), to reduce the costs due to the developer&rsquo;s memory fading (context switching) Logistics & Introductions Slides
Slides include: calendly link, piazza Grade Breakdown In lab tasks (12%) in MC 3003: Jan 17th, Jan 31st, Feb 28th, Mar 13th Project (28%) with 5 students Report on existing github project&rsquo;s pipeline, limitations, and improvements (5%) Improvement and reports 15% Final presentation Midterm (20%) Can bring one filled 8."><link rel=icon type=image/x-icon href=https://blog.elijahlopez.ca/favicon.ico><link rel=apple-touch-icon-precomposed href=https://blog.elijahlopez.ca/favicon.png><style>body{visibility:hidden;opacity:0}</style><noscript><style>body{visibility:visible;opacity:1}</style></noscript><link rel=stylesheet href=https://blog.elijahlopez.ca/css/style.min.81524e96e7d065c6f058c027c488dde1ce82240e194dfc8e50d8d3ba2e04e701.css integrity="sha256-gVJOlufQZcbwWMAnxIjd4c6CJA4ZTfyOUNjTui4E5wE="><script src=https://blog.elijahlopez.ca/js/script.min.74bf1a3fcf1af396efa4acf3e660e876b61a2153ab9cbe1893ac24ea6d4f94ee.js type=text/javascript integrity="sha256-dL8aP88a85bvpKzz5mDodrYaIVOrnL4Yk6wk6m1PlO4="></script><meta property="og:title" content="CS 492 Software Delivery"><meta property="og:description" content="Summary Want to deliver software faster with less big changes Continuous Integration: Find issues in patches continuously (after commits), to reduce the costs due to the developer&rsquo;s memory fading (context switching) Logistics & Introductions Slides
Slides include: calendly link, piazza Grade Breakdown In lab tasks (12%) in MC 3003: Jan 17th, Jan 31st, Feb 28th, Mar 13th Project (28%) with 5 students Report on existing github project&rsquo;s pipeline, limitations, and improvements (5%) Improvement and reports 15% Final presentation Midterm (20%) Can bring one filled 8."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.elijahlopez.ca/posts/university/cs-492-software-delivery/"><meta property="og:image" content="https://blog.elijahlopez.ca/images"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-01-08T13:04:18-05:00"><meta property="article:modified_time" content="2024-01-08T13:04:18-05:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.elijahlopez.ca/images"><meta name=twitter:title content="CS 492 Software Delivery"><meta name=twitter:description content="Summary Want to deliver software faster with less big changes Continuous Integration: Find issues in patches continuously (after commits), to reduce the costs due to the developer&rsquo;s memory fading (context switching) Logistics & Introductions Slides
Slides include: calendly link, piazza Grade Breakdown In lab tasks (12%) in MC 3003: Jan 17th, Jan 31st, Feb 28th, Mar 13th Project (28%) with 5 students Report on existing github project&rsquo;s pipeline, limitations, and improvements (5%) Improvement and reports 15% Final presentation Midterm (20%) Can bring one filled 8."></head><body><a class=skip-main href=#main>Skip to main content</a><div class=container><header class=common-header><div class=header-top><h1 class=site-title><a href=/>ELL Blog</a></h1><ul class=social-icons><li><a href=/index.xml title=Rss rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-icon="rss" data-prefix="fas" focusable="false" role="img" viewBox="0 0 496 512"><path fill="currentcolor" fill="currentcolor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328.0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765.0 183.105.0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686.0 38.981.0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"/></svg></span></a></li><li><a href=https://elijahlopez.ca title=Website rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M352 256C352 278.2 350.8 299.6 348.7 320H163.3C161.2 299.6 159.1 278.2 159.1 256S161.2 212.4 163.3 192H348.7C350.8 212.4 352 233.8 352 256zm151.9-64C509.2 212.5 512 233.9 512 256S509.2 299.5 503.9 320H380.8C382.9 299.4 384 277.1 384 256 384 234 382.9 212.6 380.8 192H503.9zm-10.5-32H376.7c-10-63.86-29.8-117.38-55.3-151.558C399.8 29.09 463.4 85.94 493.4 160zm-149.1.0H167.7C173.8 123.6 183.2 91.38 194.7 65.35c10.5-23.61 22.2-40.74 33.5-51.54C239.4 3.178 248.7.0 256 0s16.6 3.178 27.8 13.81c11.3 10.8 23 27.93 33.5 51.54 11.5 26.03 20.9 58.25 27 94.65h0zM18.61 160C48.59 85.94 112.2 29.09 190.6 8.442 165.1 42.62 145.3 96.14 135.3 160H18.61zM131.2 192C129.1 212.6 127.1 234 127.1 256 127.1 277.1 129.1 299.4 131.2 320H8.065C2.8 299.5.0 278.1.0 256c0-22.1 2.8-43.5 8.065-64H131.2zm63.5 254.6c-11.5-26-20.9-58.2-27-94.6H344.3C338.2 388.4 328.8 420.6 317.3 446.6c-10.5 23.7-22.2 40.8-33.5 51.6-11.2 10.6-20.5 13.8-28.7 13.8C248.7 512 239.4 508.8 228.2 498.2c-11.3-10.8-23-27.9-33.5-51.6h0zM190.6 503.6C112.2 482.9 48.59 426.1 18.61 352H135.3c10 63.9 29.8 117.4 55.3 151.6v0zm130.8.0C346.9 469.4 366.7 415.9 376.7 352H493.4c-30 74.1-93.6 130.9-172 151.6v0z"/></svg></span></a></li><li><a href=https://github.com/elibroftw title=Github rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></a></li><li><a href=https://twitter.com/elibroftw title=Twitter rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></span></a></li><li><a href=https://www.youtube.com/c/elibroftw title=Youtube rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentcolor" d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78.0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg></span></a></li><li><a href=mailto:elijahllopezz@gmail.com title=Email rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M464 64H48C21.49 64 0 85.49.0 112v288c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 4e2V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V4e2H48z"/></svg></span></a></li></ul></div><nav><a href=https://blog.elijahlopez.ca/ title=Home>Home</a>
<a href=https://blog.elijahlopez.ca/posts/ title=Archive>Archive</a>
<a href=https://blog.elijahlopez.ca/tags/ title=Tags>Tags</a></nav></header><main id=main tabindex=-1><article class="post h-entry"><div class=post-header><header><h1 class="p-name post-title">CS 492 Software Delivery</h1></header></div><div class="content e-content"><h2 id=summary>Summary
<span><a href=#summary><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><ul><li>Want to deliver software faster with less big changes</li><li>Continuous Integration: Find issues in patches continuously (after commits), to reduce the costs due to the developer&rsquo;s memory fading (context switching)</li></ul><h2 id=logistics--introductions>Logistics & Introductions
<span><a href=#logistics--introductions><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><p><a href=https://learn.uwaterloo.ca/d2l/le/content/1005130/viewContent/5333551/View>Slides</a></p><ul><li>Slides include: calendly link, piazza</li></ul><h3 id=grade-breakdown>Grade Breakdown
<span><a href=#grade-breakdown><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>In lab tasks (12%) in MC 3003: Jan 17th, Jan 31st, Feb 28th, Mar 13th</li><li>Project (28%) with 5 students<ul><li>Report on existing github project&rsquo;s pipeline, limitations, and improvements (5%)</li><li>Improvement and reports 15%</li><li>Final presentation</li></ul></li><li>Midterm (20%)<ul><li>Can bring one filled 8.5" x 11 paper sheets double sided</li></ul></li><li>Final Exam (40%)<ul><li>Can bring two filled 8.5" x 11 paper sheets double sided</li></ul></li></ul><p>Due dates: February 16th, March 22nd, 3rd</p><p>What the fuck is Google&rsquo;s bazel.</p><h3 id=course-introductions>Course Introductions
<span><a href=#course-introductions><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><a href=https://cs.uwaterloo.ca/~s4mcinto/courses/CS489/1241/>Course outline</a></li><li><a href=https://is.gd/vp1t2J>Poll</a></li></ul><p>In the past, software delivery used to be walled. Each team would be just hand off their work output to the next team and not care about the end product.</p><p>What is (continuous) integration fundamentally.</p><h3 id=design-and-implementation-of-release-pipelines>Design and Implementation of Release Pipelines
<span><a href=#design-and-implementation-of-release-pipelines><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ol><li>Integrate</li><li>Build</li><li>Deploy</li><li>Monitor</li></ol><p>What are patches?</p><ul><li>Bug fixes</li><li>Refactoring: behaviour preserving software change</li></ul><p>We need to <strong>integrate</strong> patches using VCS or something..</p><p>We need to build the patch to ensure nothing broke.</p><p>Then we need to deploy the build.</p><p>Lastly, we need to monitor (continuous experimentation). Canary, A/B testing. Blue-Green, Chaos engineering. This leads to new patches since this specific deployment was targeted.</p><p>Maintenance</p><ul><li>Corrective (bug fixes)</li></ul><h3 id=modules>Modules
<span><a href=#modules><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ol><li>Logistics and Foundations: what?, basics version control, build systems</li><li>Release pipelines: Continuous Integration, Continuous Delivery (CI/CD), Waste & Acceleration</li><li>Infrastructure & Deployment: Virtualization (flabours, hypervisors, timeline, containers), Infrastructure-as-code. Overview, A declarative solution</li><li>Deployment Strategies: Mitigating Features (Blue-Green Deployment), Experimentation, Resiliency</li></ol><h3 id=architecture-of-open-source-applications-firefox>Architecture of Open Source Applications (Firefox)
<span><a href=#architecture-of-open-source-applications-firefox><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><h4 id=introduction>Introduction
<span><a href=#introduction><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h4><ul><li>Firefox, more users, more issues will come up</li><li>Proactive mindset</li><li>Every release = energy release &ldquo;chemical spill&rdquo;</li><li>Post-release evaluation (areas to improve)</li><li>Automation to reduce human involvement and error</li><li>Go to build process<ul><li>Standardized process to every single release and one person to track this (release coordinator)</li></ul></li><li>Prioritize fixing small issues before</li></ul><h4 id=release-coordinator>Release coordinator
<span><a href=#release-coordinator><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h4><ul><li>Go to every team meeting</li><li>Point of communications between all the teams between the releases</li><li>Balance the stuff</li><li>Go to build email that they send (build number, code for the build, urgency for the build). Routine vs. chem spill</li><li>Also sends stop emails</li></ul><h4 id=reproducability>Reproducability
<span><a href=#reproducability><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h4><ul><li>Tagging tool and versions</li><li>Use script for matching it</li><li>VCS repositories are used in the build</li><li>In case of error</li></ul><h4 id=localization-of-the-build>Localization of the build
<span><a href=#localization-of-the-build><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h4><ul><li>Unpacks build, repacks for the locale needed</li><li>So many countries, concurrency is used</li><li>Partner repacks, custom builds for various partners for custom bookmarks</li></ul><h4 id=signing>Signing
<span><a href=#signing><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h4><ul><li>To ensure the copy of firefox is authentic from Mozilla, signing is used</li><li>Two types: MIcrosoft Authenticode for exe and dll&rsquo;s. Vs. GPG</li></ul><h4 id=26-updates>2.6 Updates
<span><a href=#26-updates><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h4><ul><li>Built-in updater preferred over downloading and running standalone installer</li><li>Downloading update package occurs in the background</li><li>Prompt to update & restart after download</li><li>Catch: generating updates from all <strong>supported</strong> previous releases to the latest.<ul><li>For every platform (Windows, Linux distros, macOS), every locale, every installer from LATEST-1, LATEST-2, LATEST-3. Not just for firefox</li></ul></li><li>Updates are snippets (XML) that point to the partial/complete .mar (Mozilla Archive) file</li><li>Minor updates: Updating 3.6.* to the latest 3.6.*, beta → latest beta, nightly → latest nightly</li><li>Major updates: advertisement of new features</li><li>Complete vs partial updates. Partial is the binary diff between the old release complete .mar file and the latest release complete .mar file.</li><li>These differences were shown to be very common across the platforms, so caching/hashing was used.</li></ul><h3 id=release-pipeline-steps>Release Pipeline Steps
<span><a href=#release-pipeline-steps><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Today we have rapid release cycles<ul><li>Step 1: Configuration</li><li>Step 2: Construction</li><li>Step 3: Certification</li><li>Step 4: Packaging</li><li>Step 5: Deployment</li></ul></li><li>Monitor<ul><li>Stuff</li></ul></li></ul><h3 id=what-is-continuous-integration>What is Continuous Integration
<span><a href=#what-is-continuous-integration><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>checks: does the commit actually integrate into the codebase</li><li>how? build, test and report result</li><li>why? Context switching costs exist so we need to test and address issues as soon as commits are made and not as long as possible</li></ul><h2 id=version-control-system>Version Control System
<span><a href=#version-control-system><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><h3 id=vcs-brief>VCS Brief
<span><a href=#vcs-brief><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Enforce discipline</li><li><strong>Archiving versions</strong> of source code</li><li>Maintaining <strong>historical information</strong></li><li>Enable <strong>collaboration</strong></li><li><strong>Recovery</strong></li><li><strong>Conserve disk space</strong> since only one central point and VCS uses compression</li><li>Git is a distributed version control system</li></ul><h3 id=git-operations>Git Operations
<span><a href=#git-operations><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><code>git clone</code><ul><li>Online repo → Local repo</li></ul></li><li>Local<ul><li><code>git log</code></li><li><code>git branch</code></li><li><code>git tag</code></li></ul></li><li>merging a branch that points to an older commit<ul><li>messes up the log because commits will have multiple parents</li><li>could cause conflicts in the default branch</li></ul></li><li>solution: git rebase<ul><li>want to move the head to the latest of a branch</li></ul></li><li>git diff [&ndash;staged]</li><li>git add FILE<ul><li>git reset FILE to remove changes</li></ul></li><li>git bare repository server<ul><li><code>git init --bare</code></li></ul></li></ul><h3 id=git-database>Git Database
<span><a href=#git-database><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>objects<ul><li>Blob<ul><li>A file being tracked by git</li></ul></li><li>Tree<ul><li>A directory tracked by git</li><li>Contains a list of blob and trees</li></ul></li><li>Commit<ul><li>A reference to a state being tracked by Git<ul><li>Refers to a tree object</li></ul></li></ul></li></ul></li><li>refs<ul><li>heads<ul><li>what commit each branch points to</li><li>HEAD<ul><li>A reference to the current branch that is checked out</li><li>May refer to a commit if we are in a detached HEAD state</li></ul></li></ul></li><li>remotes<ul><li>branches that are being tracked</li></ul></li><li>tags<ul><li>what commit each tag corresponds to</li><li>tags are IMMUTABLE</li></ul></li></ul></li></ul><div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>git cat-file -t COMMIT
</span></span><span style=display:flex><span>git cat-file -p COMMIT
</span></span></code></pre></div><p>Can then find the blob we are looking for.</p><h3 id=git-hooks>Git Hooks
<span><a href=#git-hooks><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Script to run when particular events occur on client or server side</li><li>chmod u+x ./.git/hooks/commit-msg.sample</li></ul><div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#cd2828;font-weight:700>#!/bin/sh
</span></span></span><span style=display:flex><span><span style=color:#cd2828;font-weight:700></span><span style=color:#999;font-style:italic>#!/bin/bash</span>
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic>#!/usr/bin/env python3</span>
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic>#!/usr/bin/env node</span>
</span></span></code></pre></div><ul><li>Problems<ul><li>not everyone will enable it</li><li>bad actors can turn off client-side hooks</li></ul></li><li>Solution: <a href=https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks#_server_side_hooks>server-side hooks</a></li></ul><table><thead><tr><th>Hook name</th><th>Description</th><th>Args</th></tr></thead><tbody><tr><td>pre-receive</td><td>First script to run after a push from a client. Args are a list of references that are being pushed from <strong>stdin</strong></td><td>NONE</td></tr><tr><td>update</td><td>Run once for each branch that was updated.</td><td>BRANCH_NAME BRANCH_SHA-1_OLD BRANCH_SHA-1_NEW. Rejects only per branch.</td></tr><tr><td>post-receive</td><td>Runs after update completion, can be used to broadcast or create a new change</td><td>???</td></tr></tbody></table><h2 id=build-system>Build System
<span><a href=#build-system><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><ul><li>Source code is an array of car parts and we want to deliver the final car</li><li>A build system assembles the parts into deliverables efficiently without needing to remember certain actions</li></ul><h3 id=families-of-build-tools>Families of Build Tools
<span><a href=#families-of-build-tools><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li><a href=https://learn.uwaterloo.ca/d2l/le/content/1005130/viewContent/5356971/View>slides</a></li><li><a href=https://is.gd/rzymTT>reading</a></li><li>low-level tools: define deps and rules for each input and output file</li><li>abstraction-based tools: derive low-level build code from high-evel data. e.g., maps of sources files to executables</li><li>framework-driven tools: default behaviour is assumed unless explicitly overridden</li><li>organizationally-scaling tools: reuse the output of build command across machines to accelerate builds and reduce (organizational-level) waste<ul><li>how do we do this for rust?</li></ul></li><li>Dependency management tools</li><li>Testing frameworks (CS 447)</li></ul><h2 id=low-level-build-systems>Low-level Build Systems
<span><a href=#low-level-build-systems><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><h3 id=make>Make
<span><a href=#make><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><details><summary>Example File</summary><div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-make data-lang=make><span style=display:flex><span><span style=color:#999;font-style:italic># o files are built automatically via `$(CC) $(CPPFLAGS) $(CFLAGS) -c`
</span></span></span><span style=display:flex><span><span style=color:#999;font-style:italic></span><span style=color:#40ffff>EXEC</span> = main
</span></span><span style=display:flex><span><span style=color:#40ffff>OBJS</span> = random.o input.o main.o
</span></span><span style=display:flex><span><span style=color:#40ffff>DEPS</span> = <span style=color:#ed9d13>${</span><span style=color:#40ffff>OBJS</span>:.o=.d<span style=color:#ed9d13>}</span>
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic># DEPS = $(patsubt %.o,%.d,$(OBJS))
</span></span></span><span style=display:flex><span><span style=color:#999;font-style:italic># CC = gcc
</span></span></span><span style=display:flex><span><span style=color:#999;font-style:italic># preprocessor flags
</span></span></span><span style=display:flex><span><span style=color:#999;font-style:italic></span><span style=color:#40ffff>CPPFLAGS</span> = -MMD
</span></span><span style=display:flex><span><span style=color:#999;font-style:italic># CFLAGS: compiler flags
</span></span></span><span style=display:flex><span><span style=color:#999;font-style:italic># since the target is the name of a direct object, the built-in rule applies
</span></span></span><span style=display:flex><span><span style=color:#999;font-style:italic></span><span style=color:#447fcf>$(EXEC)</span>: <span style=color:#6ab825;font-weight:700>$(</span><span style=color:#40ffff>OBJS</span><span style=color:#6ab825;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2>-include</span> <span style=color:#6ab825;font-weight:700>$(</span><span style=color:#40ffff>DEPS</span><span style=color:#6ab825;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#447fcf>.PHONY</span>: clean
</span></span><span style=display:flex><span><span style=color:#447fcf>clean</span>:
</span></span><span style=display:flex><span>	rm -f <span style=color:#6ab825;font-weight:700>$(</span>EXEC<span style=color:#6ab825;font-weight:700>)</span> <span style=color:#6ab825;font-weight:700>$(</span>OBJS<span style=color:#6ab825;font-weight:700>)</span> <span style=color:#6ab825;font-weight:700>$(</span>DEPS<span style=color:#6ab825;font-weight:700>)</span>
</span></span></code></pre></div></details><ul><li><a href=https://github.com/smcintosh/makeexample>Example Makefile</a></li><li><a href=https://github.com/elibroftw/bootleg-settlers-of-katan/blob/master/Makefile>More complicated but succinct Makefile</a></li><li>express dependencies with <code>program: program2 program3</code></li><li>requires tabs not spaces</li><li>write recipes</li><li>variables (lazy evaluation)<ul><li>x = &ldquo;a command&rdquo;</li><li>$(x)</li></ul></li><li>parallelization: make -j8</li><li>% wildcard is greedy (%.o → foo.o.o)<ul><li>the % must be equal on both sides of the rule</li><li>$&lt;: expands to the first dependency</li><li>$^: expands to the entire list of dependencies</li><li>$@: expands to the name of the target</li></ul></li><li>header files are dependents on .o files because .c files might not actually change</li><li>Make has built-in rules for compiling c files and linking o files<ul><li>.o files: <code>$(CC) $(CPPFLAGS) $(CFLAGS) -c</code></li><li>linking automatically works for programs where a source code exists</li><li>string manipulation: either use <code>${OBJS:.o=.d}</code> or <code>$(patsubt %.o,%.d,$(OBJS))</code></li></ul></li></ul><p>Shortcoming of Make</p><ul><li>Shell scripts are not portable (cross platform)</li><li>Boilerplate expressions need to be repeated</li></ul><p><a href=https://aegis.sourceforge.net/auug97.pdf>Recursive Make Considered Harmful</a></p><ul><li>Every make only knows the dependencies of itself, not subdirectories it calls make on</li><li>People would order the recursions to build one project before another</li><li>Distrust in incremental build process</li></ul><p>Addressed</p><ul><li>Apache Ant (low level). Uses Java for recipes</li><li>Scons and Raek use Python and Ruby as first-class languages to enable portable and extensible build code</li></ul><h3 id=abstraction-based-build>Abstraction-based build
<span><a href=#abstraction-based-build><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>&ldquo;There is only one problem in software engineer problem that cannot be solved by adding a layer of abstraction: too many layers of abstraction&rdquo;</p><ul><li>GNU Autotools<ul><li>Generate Makefiles</li></ul></li><li>CMake<ul><li>Generate Makefiles</li><li>Only 3 lines</li><li>Made by the Scientific community</li></ul></li><li>Meson</li></ul><div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#999;font-style:italic># Set the minimum version of CMake that will be supported by this build file
</span></span></span><span style=display:flex><span><span style=color:#999;font-style:italic></span><span style=color:#24909d>cmake_minimum_required</span>(<span style=color:#ed9d13>VERSION</span> <span style=color:#ed9d13>3.5</span>)<span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#999;font-style:italic># Give the project a name
</span></span></span><span style=display:flex><span><span style=color:#999;font-style:italic></span><span style=color:#24909d>project</span>(<span style=color:#ed9d13>CappedRandom</span>)<span style=color:#a61717;background-color:#e3d2d2>
</span></span></span><span style=display:flex><span><span style=color:#a61717;background-color:#e3d2d2></span><span style=color:#999;font-style:italic># Add an executable that is made up of the three C source files
</span></span></span><span style=display:flex><span><span style=color:#999;font-style:italic></span><span style=color:#24909d>add_executable</span>(<span style=color:#ed9d13>main</span> <span style=color:#ed9d13>main.c</span> <span style=color:#ed9d13>input.c</span> <span style=color:#ed9d13>random.c</span>)<span style=color:#a61717;background-color:#e3d2d2>
</span></span></span></code></pre></div><h3 id=maven---framework-driven-build-tool>Maven - Framework Driven Build Tool
<span><a href=#maven---framework-driven-build-tool><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><details><summary>Example</summary><div class=highlight><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#cd2828;font-weight:700>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#6ab825;font-weight:700>&lt;project</span> <span style=color:#bbb>xmlns=</span><span style=color:#ed9d13>&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span style=color:#bbb>xmlns:xsi=</span><span style=color:#ed9d13>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#bbb>xsi:schemaLocation=</span><span style=color:#ed9d13>&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style=color:#6ab825;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#6ab825;font-weight:700>&lt;modelVersion&gt;</span>4.0.0<span style=color:#6ab825;font-weight:700>&lt;/modelVersion&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#6ab825;font-weight:700>&lt;groupId&gt;</span>ca.uwaterloo.cs446<span style=color:#6ab825;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#6ab825;font-weight:700>&lt;artifactId&gt;</span>mavendeps<span style=color:#6ab825;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#6ab825;font-weight:700>&lt;version&gt;</span>2022<span style=color:#6ab825;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#6ab825;font-weight:700>&lt;properties&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>&lt;project.build.sourceEncoding&gt;</span>UTF-8<span style=color:#6ab825;font-weight:700>&lt;/project.build.sourceEncoding&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>&lt;maven.compiler.source&gt;</span>1.8<span style=color:#6ab825;font-weight:700>&lt;/maven.compiler.source&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>&lt;maven.compiler.target&gt;</span>1.8<span style=color:#6ab825;font-weight:700>&lt;/maven.compiler.target&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>&lt;exec.mainClass&gt;</span>ca.uwaterloo.cs446.mavendeps.Main<span style=color:#6ab825;font-weight:700>&lt;/exec.mainClass&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#6ab825;font-weight:700>&lt;/properties&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#6ab825;font-weight:700>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#999;font-style:italic>&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#6ab825;font-weight:700>&lt;groupId&gt;</span>org.apache.logging.log4j<span style=color:#6ab825;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#6ab825;font-weight:700>&lt;artifactId&gt;</span>log4j-core<span style=color:#6ab825;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#6ab825;font-weight:700>&lt;version&gt;</span>2.22.1<span style=color:#6ab825;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#6ab825;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#6ab825;font-weight:700>&lt;/dependencies&gt;</span>
</span></span><span style=display:flex><span><span style=color:#6ab825;font-weight:700>&lt;/project&gt;</span>
</span></span></code></pre></div></details><ul><li>convention over configuration</li><li>concepts: lifecycle, phases, goals, plugins</li><li>assumes a lifecycle</li><li>lifecycle: series of phases</li><li>phase: series of goals to build actions via plugins</li></ul><p>Lifecycles</p><ul><li>default: produces project deliverables</li><li>clean: initial state</li><li>site: website/docs material</li></ul><table><thead><tr><th>Lifecycle</th><th>Phase</th><th>Goal</th></tr></thead><tbody><tr><td><strong>Default</strong></td><td>process-resources</td><td>resources:resources</td></tr><tr><td>&mdash;</td><td>compile</td><td>compiler:compile</td></tr><tr><td>&mdash;</td><td>process-test-resources</td><td>resources:testResources</td></tr><tr><td>&mdash;</td><td>test-compile</td><td>compiler:testCompile</td></tr><tr><td>&mdash;</td><td>test</td><td>surefire:test</td></tr><tr><td>&mdash;</td><td>package</td><td>jar:jar, par:par, war:war</td></tr><tr><td>&mdash;</td><td>install</td><td>install:install</td></tr><tr><td>&mdash;</td><td>deploy</td><td>deploy:deploy</td></tr><tr><td><strong>Clean</strong></td><td>clean</td><td>clean:clean</td></tr><tr><td><strong>Site</strong></td><td>site</td><td>site:site</td></tr><tr><td>&mdash;</td><td>site-deploy</td><td>site:deploy</td></tr></tbody></table><h2 id=organizational-scaling>Organizational Scaling
<span><a href=#organizational-scaling><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><ol><li>Build execution is computationally expensive<ul><li>In-memory dependency graph requires plenty of high-speed RAM</li><li>Processor-intensive operation: fast CPU</li><li>Files need to be stat&rsquo;d (modification time), read (source files) and written (intermediate and output files): large and fast disk I/O</li></ul></li><li>Constraints on parallelism</li><li>Commands are repeated across machines</li></ol><h3 id=googles-bazel>Google&rsquo;s Bazel
<span><a href=#googles-bazel><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Internal built tool is called blaze</li><li>What&rsquo;s the point?<ul><li>Centralized caching to cut down repeated builds</li><li>Cross language</li><li>Language specific implicit rule (e.g. header files)</li></ul></li><li>Starlark: domain-specific build language inspired by Python</li><li>Load build files relevant to target of the execution</li><li>Analyze the inputs and dependencies and produces an action graph</li><li>Execute by traversing the action graph until final build outputs are produced</li><li>Action graph is a directed graph of build artifacts<ul><li>Graph is <a href=https://docs.bazel.build/versions/0.29.1/query-how-to.html>queryable</a> to better understand the build process</li><li>Lot of things are implicitly done</li><li><code>bazel query "deps(//:mavendeps)"</code></li></ul></li></ul><h2 id=ci-and-cd>CI and CD
<span><a href=#ci-and-cd><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><ul><li>Practitioners (Developers, QA, Release Engineers) ↔ Build System ↔ Development Tools<ul><li>Developers: execute local builds to sync changes and perform simple tests</li><li>QA: automated tests into build system<ul><li>normal builds should provide quick feedback</li><li>slower tests can be relegated to special build targets that are executed less often</li></ul></li><li>Releng: micro and macro<ul><li>micro-build: behaviour of a build system in a single execution</li><li>macro-build: provisioning fleet of build resources</li></ul></li></ul></li><li>DevTools<ul><li>Static analysis: infer, coverity</li><li>Problems like: buffer overflows, resource leaks, dead code, null pointer dereference & exceptions</li></ul></li><li>Code review<ul><li>pre-merge review</li><li><a href=https://codereview.qt-project.org/#/c/140545/>QT Gerrit code review</a><ul><li>Qt Sanity Bot</li><li>Qt CI Bot</li></ul></li></ul></li><li>Release automation<ul><li>Nightly builds<ul><li>When builds took hours, the build would run at night after the day&rsquo;s changes so that the QA can run tests in the morning</li><li>Too infrequent</li><li>Don&rsquo;t know what change broke the build</li><li>What if you wrote the broken code the day before<ul><li><code>git bisect</code> can split the history into two sets of commits</li></ul></li></ul></li><li>Continuous builds</li></ul></li></ul><h3 id=ci>CI
<span><a href=#ci><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>Martin Fowler: Refactoring, Continuous Integration - verify automated build</li><li>Cycle: build → git → build → test → report</li><li>Tools:<ul><li>Install: Jenkins, CruiseControl, Buildbot</li><li>Cloud: Travis CI, GitHub Actions, Circle Ci</li></ul></li></ul><p><a href=https://rebels.cs.uwaterloo.ca/papers/tse2018_gallaba.pdf>An Empirical Study of Projects that (mis)use Travis CI</a></p><ul><li>Build job processing service<ul><li>apply changes to latest source code, run tests, possible distribute</li><li>configuration via language property, services, before_install, install</li></ul></li></ul><p>Robust Build System</p><ul><li>Invest time creating and maintaining</li><li>Issues: broken build or weird bugs</li></ul><p>Flaky tests</p><ul><li>Result can fail even with the same input (non-deterministic behaviour)<ul><li>False positive<ul><li>Code might be fine and there is a loss in trust of the test</li></ul></li><li>False negative<ul><li>a test passes but it should&rsquo;ve failed</li></ul></li></ul></li></ul><h3 id=how-to-read-a-paper>How to Read a Paper
<span><a href=#how-to-read-a-paper><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>key contributions</li><li>limitations</li><li>replicate or extend</li><li>three-pass approach<ol><li>Rough overview (10 minutes)<ul><li>Title, Abstract, Introduction</li><li>Read section and subsection headings</li><li>Read conclusion</li></ul></li><li>??? see slides</li><li>???</li></ol></li></ul><p><a href=https://rebels.cs.uwaterloo.ca/papers/ase2023_maipradit.pdf>An Empirical Study of the OpenStack Community</a></p><ul><li>Q1: The recheck command is used to rebuild without updating code in the discussion thread</li><li>Q2 42% of rebuilds pass</li><li>Q3: Justifiable waste is one recheck (that changes the status). 24% rechecks were justifiable (16.78 years of computational time out of 187.4 years)</li><li>Q4: understanding how to reduce these wastes by better handling failed CI builds, further studies for better identification and awareness of such resource waste to developers, and tool support to reduce the waste produced by repeated rebuilds.</li></ul><h3 id=ci-resources-are-a-shared-commodity>CI Resources are a shared commodity
<span><a href=#ci-resources-are-a-shared-commodity><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>build minutes</li><li>user seats</li><li>tragedy of the commons<ul><li>unfettered access to a resource</li><li>no formal rules to regulate access</li><li>accelerated depreciation of a resource due to self-interest</li></ul></li></ul><p>Cost of rechecking</p><ul><li>OpenStack wasted: 187.4 build years<ul><li>developer cost is 16.81 years waiting for re-checks</li></ul></li><li>precisions and recall</li></ul><h3 id=ci-acceleration>CI Acceleration
<span><a href=#ci-acceleration><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li>mitigating the re-check riot problem</li><li>cloud-based CI solutions tacitly encourage wasteful behaviour<ul><li><code>runs-on: ubuntu-latest</code> (starting with a fresh container, no reusability)<ul><li>a fresh copy is cloned (wasteful bandwith)</li></ul></li></ul></li><li>Does every change require a CI run?<ul><li>Updates to comments in the code</li><li>Only updates the README.md</li><li>Changes an area not tested by the CI test suite</li></ul></li><li>Existing solutions<ul><li>CI skip</li><li>Github allows devs to indicate change sets that do not require a build</li><li>Magic phrase in the commit message <a href=https://docs.github.com/en/actions/managing-workflow-runs/skipping-workflow-runs>github: skipping workflow runs</a></li></ul></li></ul><p><a href=https://ieeexplore.ieee.org/abstract/document/8633335>Which Commits Can Be CI Skipped?</a></p><ul><li><p>Our findings show that our rule-based technique can detect and label CI commits with an Areas Under the Curve between 0.56 and 0.98 (average of 0.73)</p></li><li><p>On average, 18.16% of commits are skipped</p></li><li><p><a href=https://github.com/suhaibmujahid/ci-skipper>CI-Skipper prototype</a></p><ul><li>Feb 2017</li></ul></li><li><p>TravisTorrent Dataset</p></li><li><p>Need to create rules to skip CI on commits</p></li><li><p>Security implications?</p></li><li><p>Q1. Rules derived based on commits that were explicitly skipped by real developers</p></li><li><p>Q2. 0.73 (false positives against false negatives)</p></li><li><p>Q3. impact of source code analysis on ci-skipper, build commits are predicted to be CI skip commits but they result in fail builds, machine learning techniques</p></li><li><p>Precision (noise in signal) = (true positive) / (true positive + false positive)</p></li><li><p>Recall (completeness / end goal) = (true positives) / (true positives + false negatives)</p></li><li><p><code>f1 = 2 * (p * r) / (p + r)</code></p><ul><li>tp vs fp (receiver operator characteristic curve)</li></ul></li><li><p>an AUC sets a coin flip to 0.5, so we know that the classifier is better when it is greater than 0.5</p></li></ul><p><a href=https://ieeexplore.ieee.org/abstract/document/8961089>A Machine Learning Approach to Improve the Detection of CI Skip Commits</a></p><ul><li>Decision trees were used to produce classifiers. Why? Average AUC equal to 0.89</li><li>F1-score of 0.79 (AUC = 0.89), on average. This improvement equates to an average improvement of 2.4X</li><li>cross-project classifier has as 1.5X over baseline<ul><li>baseline is the ratio of CI skip commits in the studied projects</li></ul></li><li>within project means tested on ourselves (past to future) whereas cross-project means trained on one project and used on another</li></ul><p><a href=https://dl.acm.org/doi/pdf/10.1145/3377811.3380437>A cost-efficient approach to building in continuous integration</a></p><ul><li>costs millions of dollars to Mozilla and Google</li><li>the value is letting developers find bugs early</li><li>want to fail builds as early as possible</li><li>SmartBuildSkip: prediction<ul><li>first failure means later builds are more likely to fail</li></ul></li></ul><h3 id=review-session>Review Session
<span><a href=#review-session><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><ul><li></li></ul></div><div class=post-info><div class="post-date dt-published">2024-Jan-08</div><a class="post-hidden-url u-url" href=https://blog.elijahlopez.ca/posts/university/cs-492-software-delivery/>https://blog.elijahlopez.ca/posts/university/cs-492-software-delivery/</a>
<a href=https://blog.elijahlopez.ca/ class="p-name p-author post-hidden-author h-card" rel=me>Elijah Lopez</a><div class=post-taxonomies><ul class=post-tags><li><a href=https://blog.elijahlopez.ca/tags/university/>#University</a></li></ul></div></div></article><div class="pagination post-pagination"><div class="left pagination-item"><a href=/posts/bu-397-intermediate-financial-accounting-ii/>BU 397 Intermediate Financial Accounting II</a></div><div class="right pagination-item"><a href=/posts/best-cell-phone-carriers-canada/>Best Cell Phone Carriers Canada</a></div></div><script src=https://utteranc.es/client.js repo=elibroftw/blog.elijahlopez.ca theme=github-dark label issue-term=url crossorigin=anonymous async></script></main><footer class=common-footer><div class=common-footer-bottom><div class=copyright><p>© Elijah Lopez, 2024<br>Powered by <a target=_blank rel="noopener noreferrer" href=https://gohugo.io/>Hugo</a>, theme <a target=_blank rel="noopener noreferrer" href=https://github.com/mitrichius/hugo-theme-anubis>Anubis</a>.<br></p></div><script>const STORAGE_KEY="user-color-scheme",defaultTheme="dark-without-switcher";let currentTheme,switchButton,autoDefinedScheme=window.matchMedia("(prefers-color-scheme: dark)");const autoChangeScheme=e=>{currentTheme=e.matches?"dark":"light",document.documentElement.setAttribute("data-theme",currentTheme),changeButtonText()};document.addEventListener("DOMContentLoaded",function(){switchButton=document.querySelector(".theme-switcher"),currentTheme=detectCurrentScheme(),currentTheme=="dark"&&document.documentElement.setAttribute("data-theme","dark"),currentTheme=="auto"&&(autoChangeScheme(autoDefinedScheme),autoDefinedScheme.addListener(autoChangeScheme)),switchButton&&(changeButtonText(),switchButton.addEventListener("click",switchTheme,!1)),showContent()});function detectCurrentScheme(){return localStorage!==null&&localStorage.getItem(STORAGE_KEY)?localStorage.getItem(STORAGE_KEY):defaultTheme?defaultTheme:window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"light"}function changeButtonText(){switchButton&&(switchButton.textContent=currentTheme=="dark"?"Light theme":"Dark theme")}function switchTheme(){currentTheme=="dark"?(localStorage!==null&&localStorage.setItem(STORAGE_KEY,"light"),document.documentElement.setAttribute("data-theme","light"),currentTheme="light"):(localStorage!==null&&localStorage.setItem(STORAGE_KEY,"dark"),document.documentElement.setAttribute("data-theme","dark"),currentTheme="dark"),changeButtonText()}function showContent(){document.body.style.visibility="visible",document.body.style.opacity=1}</script></div><p class="h-card vcard"><a href=https://blog.elijahlopez.ca/ class="p-name u-url url fn" rel=me>Elijah Lopez</a>
/
<a class="p-email u-email email" rel=me href=mailto:elijahllopezz@gmail.com>elijahllopezz@gmail.com</a>
<img class=u-photo src=/images/me.png></p></footer></div></body></html>